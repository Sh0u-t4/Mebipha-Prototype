<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tra c·ª©u b·ªánh - Mebipha</title>

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="components.css">
  <link rel="stylesheet" href="layout.css">
</head>

<body>
  <!-- Header -->
  <header class="header" id="header">
    <div class="header-top">
      <div class="container">
        <div class="header-main-row">
          <!-- Logo -->
          <div class="header-logo">
            <a href="index.html" class="logo-link">
              <img src="images/logo.png" alt="Mebipha Logo" class="logo-img"
                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="logo-text-wrapper">
                <span class="logo-brand">MEBIPHA</span>
                <span class="logo-slogan">GI·∫¢I PH√ÅP CHƒÇN NU√îI 4.0</span>
              </div>
            </a>
          </div>

          <!-- Search Bar -->
          <div class="header-search">
            <form class="search-form" onsubmit="handleSearch(event)">
              <input type="search" class="search-input" placeholder="T√¨m thu·ªëc, ho·∫°t ch·∫•t, ho·∫∑c b·ªánh l√Ω..."
                id="searchInput">
              <button type="submit" class="search-btn-custom">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                T√¨m ki·∫øm
              </button>
            </form>
          </div>

          <!-- Header Actions -->
          <div class="header-actions">
            <a href="#" class="action-item">
              <div class="action-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
              </div>
              <span class="action-text">K√ä ƒê∆†N ONLINE</span>
            </a>
            <a href="cart.html" class="action-item cart-btn-wrapper">
              <div class="action-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="cart-badge">0</span>
              </div>
              <span class="action-text">GI·ªé H√ÄNG</span>
            </a>

            <!-- Mobile Menu Button -->
            <button class="btn-icon mobile-menu-btn md:d-none" onclick="toggleMobileMenu()">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="6" x2="21" y2="6" />
                <line x1="3" y1="12" x2="21" y2="12" />
                <line x1="3" y1="18" x2="21" y2="18" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Bar -->
    <div class="header-nav-bar">
      <div class="container">
        <nav class="main-nav">
          <a href="index.html" class="main-nav-link">TRANG CH·ª¶</a>
          <a href="products.html" class="main-nav-link">C·ª¨A H√ÄNG</a>
          <a href="diseases.html" class="main-nav-link active">TRA C·ª®U B·ªÜNH</a>
          <a href="news.html" class="main-nav-link">TIN T·ª®C</a>
          <a href="contact.html" class="main-nav-link">LI√äN H·ªÜ</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-content">
      <div class="mobile-menu-header">
        <span class="font-bold">Menu</span>
        <button class="btn-icon" onclick="toggleMobileMenu()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>
      <nav class="mobile-nav">
        <a href="index.html" class="mobile-nav-link">TRANG CH·ª¶</a>
        <a href="products.html" class="mobile-nav-link">C·ª¨A H√ÄNG</a>
        <a href="diseases.html" class="mobile-nav-link">TRA C·ª®U B·ªÜNH</a>
        <a href="news.html" class="mobile-nav-link">TIN T·ª®C</a>
        <a href="contact.html" class="mobile-nav-link">LI√äN H·ªÜ</a>
        <a href="account.html" class="mobile-nav-link">T√ÄI KHO·∫¢N</a>
      </nav>
    </div>
  </div>

  <!-- Page Header -->
  <div class="bg-primary text-white py-12">
    <div class="container text-center">
      <h1 class="text-4xl font-bold mb-4">Tra c·ª©u b·ªánh</h1>
      <p class="text-xl" style="opacity: 0.95;">T√¨m hi·ªÉu tri·ªáu ch·ª©ng, ph√≤ng ng·ª´a v√† ƒëi·ªÅu tr·ªã c√°c b·ªánh ph·ªï bi·∫øn</p>
    </div>
  </div>

  <!-- Tabs -->
  <div class="container mt-8">
    <div class="tabs">
      <div class="tab-list bg-white rounded-lg shadow-sm p-2">
        <button class="tab-link active" onclick="switchCategory('gia-cam')">
          üêî Gia C·∫ßm
        </button>
        <button class="tab-link" onclick="switchCategory('gia-suc')">
          üê∑ Gia S√∫c
        </button>
        <button class="tab-link" onclick="switchCategory('tom')">
          ü¶ê T√¥m
        </button>
        <button class="tab-link" onclick="switchCategory('ca')">
          üêü C√°
        </button>
      </div>
    </div>
  </div>

  <!-- Disease Grid -->
  <div class="container mt-8 mb-12">
    <div class="news-grid" id="diseaseGrid">
      <!-- Diseases will be loaded here -->
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2024 Mebipha. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
      </div>
    </div>
  </footer>

  <!-- Disease Detail Modal -->
  <div class="modal" id="diseaseModal">
    <div class="modal-backdrop" onclick="Modal.hide('diseaseModal')"></div>
    <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
      <div class="modal-header">
        <h3 class="modal-title" id="diseaseTitle">Chi ti·∫øt b·ªánh</h3>
        <button class="modal-close" onclick="Modal.hide('diseaseModal')">‚úï</button>
      </div>
      <div class="modal-body" id="diseaseContent">
        <!-- Disease details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="utils.js"></script>
  <script src="data/products.js"></script>
  <script src="data/diseases.js"></script>
  <script src="main.js"></script>

  <script>
    let currentCategory = 'gia-cam';

    function switchCategory(category) {
      currentCategory = category;

      // Update active tab
      document.querySelectorAll('.tab-link').forEach(tab => tab.classList.remove('active'));
      event.target.classList.add('active');

      renderDiseases();
    }

    function renderDiseases() {
      const diseases = filterDiseases({ category: currentCategory });
      const diseaseGrid = document.getElementById('diseaseGrid');

      if (diseases.length === 0) {
        diseaseGrid.innerHTML = `
          <div class="text-center p-8" style="grid-column: 1 / -1;">
            <p class="text-lg text-gray-600">Kh√¥ng c√≥ d·ªØ li·ªáu b·ªánh cho danh m·ª•c n√†y</p>
          </div>
        `;
        return;
      }

      diseaseGrid.innerHTML = diseases.map(disease => `
        <div class="card cursor-pointer" onclick="showDiseaseDetail('${disease.id}')">
          <img class="card-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='200'%3E%3Crect fill='%233B82F6' width='400' height='200'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='20'%3E${encodeURIComponent(disease.name)}%3C/text%3E%3C/svg%3E" alt="${disease.name}" style="height: 200px; object-fit: cover;">
          <div class="card-body">
            <div class="d-flex justify-between align-center mb-2">
              <span class="badge badge-secondary">${disease.animalType}</span>
            </div>
            <h3 class="card-title">${disease.name}</h3>
            <p class="card-text">${disease.overview.description}</p>
            <button class="btn btn-outline mt-2">Xem chi ti·∫øt ‚Üí</button>
          </div>
        </div>
      `).join('');
    }

    function showDiseaseDetail(diseaseId) {
      const disease = getDiseaseById(diseaseId);
      if (!disease) return;

      document.getElementById('diseaseTitle').textContent = disease.name;

      const relatedProducts = disease.relatedProducts
        .map(id => getProductById(id))
        .filter(p => p);

      document.getElementById('diseaseContent').innerHTML = `
        <div class="d-flex flex-column gap-6">
          <div>
            <h4 class="text-lg font-semibold mb-3">T·ªïng quan</h4>
            <p class="mb-3">${disease.overview.description}</p>
            
            <h5 class="font-semibold mb-2">Tri·ªáu ch·ª©ng:</h5>
            <ul class="list-disc pl-6 mb-3">
              ${disease.overview.symptoms.map(s => `<li>${s}</li>`).join('')}
            </ul>
            
            <h5 class="font-semibold mb-2">Nguy√™n nh√¢n:</h5>
            <ul class="list-disc pl-6 mb-3">
              ${disease.overview.causes.map(c => `<li>${c}</li>`).join('')}
            </ul>
            
            <h5 class="font-semibold mb-2">ƒê·ªëi t∆∞·ª£ng nguy c∆°:</h5>
            <ul class="list-disc pl-6">
              ${disease.overview.riskFactors.map(r => `<li>${r}</li>`).join('')}
            </ul>
          </div>
          
          <div class="border-t pt-6">
            <h4 class="text-lg font-semibold mb-3">Ch·∫©n ƒëo√°n</h4>
            <ul class="list-disc pl-6">
              ${disease.diagnosis.map(d => `<li>${d}</li>`).join('')}
            </ul>
          </div>
          
          <div class="border-t pt-6">
            <h4 class="text-lg font-semibold mb-3">Ph√≤ng ng·ª´a</h4>
            <ul class="list-disc pl-6">
              ${disease.prevention.map(p => `<li>${p}</li>`).join('')}
            </ul>
          </div>
          
          <div class="border-t pt-6">
            <h4 class="text-lg font-semibold mb-3">ƒêi·ªÅu tr·ªã</h4>
            <ul class="list-disc pl-6">
              ${disease.treatment.map(t => `<li>${t}</li>`).join('')}
            </ul>
          </div>
          
          ${relatedProducts.length > 0 ? `
            <div class="border-t pt-6">
              <h4 class="text-lg font-semibold mb-4">S·∫£n ph·∫©m g·ª£i √Ω</h4>
              <div class="d-grid grid-cols-2 gap-4">
                ${relatedProducts.map(product => `
                  <div class="card">
                    <div class="card-body">
                      <h5 class="font-semibold mb-2">${product.name}</h5>
                      <p class="text-primary font-bold mb-3">${formatPrice(product.price)}</p>
                      <button class="btn btn-primary btn-sm w-full" onclick="addToCart('${product.id}'); Modal.hide('diseaseModal');">
                        Th√™m v√†o gi·ªè
                      </button>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>
          ` : ''}
        </div>
      `;

      Modal.show('diseaseModal');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderDiseases();
    });
  </script>

  <style>
    .list-disc {
      list-style-type: disc;
    }
  </style>
</body>

</html>